<!-- Offline Status Banner -->
@if (!isOnline()) {
  <div
    class="bg-warning p-4 rounded-md flex items-center gap-3"
  >
    <lucide-angular
        [img]="icons.triangleAlert"
        [size]="26"
      ></lucide-angular>
    <div class="flex-1">
      <p class="font-semibold">Estas en modo offline</p>
      <p class="text-sm">
        Mostrando datos en caché. Los cambios se sincronizarán cuando se restablezca la conexión.
      </p>
    </div>
    @if (pendingOps().length > 0) {
      <span
        class="bg-warning px-3 py-1 rounded-full text-sm font-medium"
      >
        {{ pendingOps().length }} pendientes
      </span>
    }
  </div>
}

<!-- Pending Operations Banner (when online) -->
@if (isOnline() && pendingOps().length > 0) {
  <div
    class="bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 rounded-md flex items-center gap-3"
  >
    <svg
      class="w-6 h-6 animate-spin"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
      ></path>
    </svg>
    <div class="flex-1">
      <p class="font-semibold">Sincronizando operaciones pendientes...</p>
      <p class="text-sm">{{ pendingOps().length }} operación(es) en cola</p>
    </div>
    <button
      (click)="manualSync()"
      class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors"
    >
      Reintentar ahora
    </button>
  </div>
}

<!-- Last Sync Info -->
@if (lastSync()) {
  <div class="text-sm text-text-secondary flex items-center gap-2">
    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
      ></path>
    </svg>
    <span>Última sincronización: {{ getLastSyncFormatted() }}</span>
  </div>
}
