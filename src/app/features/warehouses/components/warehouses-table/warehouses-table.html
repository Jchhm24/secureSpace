<div class="bg-secondary border border-border rounded-20px overflow-hidden">
  <div class="p-5 flex flex-row justify-between items-center">
    <div class="flex flex-row gap-2.5">
      <div class="bg-primary/10 rounded-10px p-2.5 w-min">
        <lucide-icon
          [img]="icons.chartBar"
          name="chart-bar"
          color="#14B8A6"
        ></lucide-icon>
      </div>
      <h3 class="text-text-secondary">Listado de bodegas</h3>
    </div>
    <app-input-component
      [type]="'search'"
      [placeholder]="'Buscar bodega...'"
      [control]="searchControl"
      [style.--width]="'520px'"
    ></app-input-component>
  </div>

  <table class="w-full">
    <thead class="bg-text/10 border-b border-primary">
      <tr>
        <th class="p-5 text-left">Id</th>
        <th class="p-5 text-left">Ubicación</th>
        <th class="p-5 text-left">Ultimo registro</th>
        <th class="p-5 text-left">Bodega</th>
        <th class="p-5 text-left">Persona asignada</th>
        <th class="p-5 text-center w-[140px]">Estado</th>
        <th class="p-5 text-center w-[202px]">Acciones</th>
      </tr>
    </thead>
    <tbody>
      @for (warehouse of warehouses(); track warehouse.id) {
        <tr class="border-b border-dashed border-border">
          <td class="p-5 font-medium text-text">{{ warehouse.id }}</td>
          <td class="p-5">{{ warehouse.location }}</td>
          <td class="p-5">23-10-2025</td>
          <td class="p-5 font-medium text-text">{{ warehouse.name }}</td>
          <td class="p-5">{{ warehouse.owner }}</td>
          <td class="p-5">
            <app-badge-enable [enabled]="warehouse.status"></app-badge-enable>
          </td>
          <td class="p-5">
            <div class="flex flex-row gap-2.5">
              <app-button-icon
                [type_button]="'add_user'"
                [title_button]="'Añadir usuario'"
                [function_action]="functionButton"
              ></app-button-icon>
              <app-button-icon
                [type_button]="'history'"
                [title_button]="'Ver historial'"
                [function_action]="functionButton"
              ></app-button-icon>
              <app-button-icon
                [type_button]="'qr_code'"
                [title_button]="'Ver código QR'"
                [function_action]="functionButton"
              ></app-button-icon>
              <app-button-icon
                [type_button]="'edit'"
                [title_button]="'Editar bodega'"
                [function_action]="functionButton"
              ></app-button-icon>
              <app-button-icon
                [type_button]="'delete'"
                [title_button]="'Eliminar bodega'"
                [function_action]="functionButton"
              ></app-button-icon>
            </div>
          </td>
        </tr>
      } @empty {
        <tr>
          <td colspan="7" class="p-5 text-center">
            Ninguna bodega ha sido registrada por el momento
          </td>
        </tr>
      }
    </tbody>
    <tfoot>
      <tr>
        <td colspan="7" class="p-5">
          <div class="flex flex-row justify-center items-center gap-2.5">
            @for (page of groupedWarehouses(); track $index) {
              <button
                (click)="changePage($index)"
                class="px-4 py-2 rounded text-text! outline-none"
                [ngClass]="{
                  'bg-primary' : $index === index_page(),
                  'hover:bg-primary/10': $index !== index_page()
                }"
              >
                {{ $index + 1 }}
              </button>
            }
          </div>
        </td>
      </tr>
    </tfoot>
  </table>
</div>
